namespace: mern-devops

frontend:
  replicas: 1
  image: ghcr.io/atkaridarshan04/cloudnative-devops-blueprint/bookstore-frontend:2.0.0
  containerPort: 80

  livenessProbe:
    initialDelaySeconds: 30
    periodSeconds: 15

  readinessProbe:
    initialDelaySeconds: 30
    periodSeconds: 15

  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0

  service:
    type: ClusterIP # Change to NodePort if needed
    port: 80
    # nodePort: 31000

  config:
    # backendUrl: http://192.168.88.133:31100 # Using nodeport service
    backendUrl: ""  # after configuring ingress 


backend: 
  replicas: 1
  image: ghcr.io/atkaridarshan04/cloudnative-devops-blueprint/bookstore-backend:2.0.0
  containerPort: 8000

  livenessProbe:
    initialDelaySeconds: 30
    periodSeconds: 15

  readinessProbe:
    initialDelaySeconds: 30
    periodSeconds: 15

  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0

  service:
    type: ClusterIP # Change to NodePort if needed
    port: 8000
    # nodePort: 31100


persistentVolume:
  capacity: 1Gi
  accessMode: ReadWriteOnce
  reclaimPolicy: Retain
  storageClassName: manual
  hostPath: "/mnt/data"

persistentVolumeClaim:
  accessMode: ReadWriteOnce
  storage: 1Gi
  storageClassName: manual


mongodb:
  replicas: 1
  image: mongo:4.4
  serviceName: mongodb-service

  username: admin
  password: password123
  dbName: db

  authSource: admin